# Test Ban/Unban User API with curl commands
# Replace ADMIN_TOKEN with actual admin token

# 1. Check current user status
curl -X GET "https://localhost:7000/api/accounts/15" \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -k

# 2. Ban user (set isActive = false)
curl -X PUT "https://localhost:7000/api/accounts/15/status" \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"userId": 15, "isActive": false}' \
  -k

# 3. Check user status after ban
curl -X GET "https://localhost:7000/api/accounts/15" \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -k

# 4. Unban user (set isActive = true)
curl -X PUT "https://localhost:7000/api/accounts/15/status" \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"userId": 15, "isActive": true}' \
  -k

# 5. Check user status after unban
curl -X GET "https://localhost:7000/api/accounts/15" \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -k

# 6. Test with invalid user ID (should return 404)
curl -X PUT "https://localhost:7000/api/accounts/999/status" \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"userId": 999, "isActive": false}' \
  -k

# 7. Test with invalid request body (should return 400)
curl -X PUT "https://localhost:7000/api/accounts/15/status" \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"userId": 15, "isActive": "invalid"}' \
  -k

# 8. Test without authorization (should return 401)
curl -X PUT "https://localhost:7000/api/accounts/15/status" \
  -H "Content-Type: application/json" \
  -d '{"userId": 15, "isActive": false}' \
  -k
